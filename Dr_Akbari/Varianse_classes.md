حتماً! در ادامه، **تحلیل کامل از ابتدا تا محاسبه فاصله بین داده تست و میانگین نرمال‌شده هر کلاس** را به صورت دقیق و مرحله‌به‌مرحله برایت می‌نویسم:

---

# 🎯 هدف:

تحلیل ویژگی‌ها با استفاده از **تحلیل واریانس بین کلاس‌ها** و سپس بررسی فاصله داده تست از میانگین ویژگی‌ها در هر کلاس.

---

## 🧾 داده‌ها

### ✅ داده‌های آموزشی (ویژگی‌ها + کلاس):

| نمونه | F1 | F2 | F3 | F4 | کلاس |
| ----- | -- | -- | -- | -- | ---- |
| x1    | 1  | 2  | 8  | 9  | 1    |
| x2    | 2  | 3  | 7  | 7  | 1    |
| x3    | 3  | 4  | 6  | 5  | 1    |
| x4    | 4  | 5  | 5  | 6  | 1    |
| x5    | 5  | 6  | 4  | 8  | 2    |
| x6    | 6  | 7  | 3  | 9  | 2    |
| x7    | 7  | 8  | 2  | 7  | 2    |
| x8    | 8  | 9  | 2  | 5  | 2    |

### ✅ داده تست:

$$
\text{test} = (1.5,\ 7,\ 2,\ 7)
$$

---

## ✅ گام 1: نرمال‌سازی داده‌ها در بازه $[-1, 1]$

فرمول نرمال‌سازی:

$$
x' = \left( \frac{x - x_{\min}}{x_{\max} - x_{\min}} \times 2 \right) - 1
$$

### 🔍 حداقل و حداکثر برای هر ویژگی:

| ویژگی | min | max |
| ----- | --- | --- |
| F1    | 1   | 8   |
| F2    | 2   | 9   |
| F3    | 2   | 8   |
| F4    | 5   | 9   |

### 🔢 نرمال‌سازی داده تست:

* F1:

  $$
  \left( \frac{1.5 - 1}{7} \times 2 \right) - 1 = \frac{1}{7} - 1 = -\frac{6}{7}
  $$

* F2:

  $$
  \left( \frac{7 - 2}{7} \times 2 \right) - 1 = 2 - 1 = 1
  $$

* F3:

  $$
  \left( \frac{2 - 2}{6} \times 2 \right) - 1 = 0 - 1 = -1
  $$

* F4:

  $$
  \left( \frac{7 - 5}{4} \times 2 \right) - 1 = 1 - 1 = 0
  $$

✅ **داده تست نرمال‌شده**:

$$
\text{test}' = \left( -\frac{6}{7},\ 1,\ -1,\ 0 \right)
$$

---

## ✅ گام 2: میانگین ویژگی‌ها در هر کلاس

### کلاس 1 (x1 تا x4):

| ویژگی | مقادیر        | میانگین |
| ----- | ------------- | ------- |
| F1    | \[1, 2, 3, 4] | 2.5     |
| F2    | \[2, 3, 4, 5] | 3.5     |
| F3    | \[8, 7, 6, 5] | 6.5     |
| F4    | \[9, 7, 5, 6] | 6.75    |

### کلاس 2 (x5 تا x8):

| ویژگی | مقادیر        | میانگین |
| ----- | ------------- | ------- |
| F1    | \[5, 6, 7, 8] | 6.5     |
| F2    | \[6, 7, 8, 9] | 7.5     |
| F3    | \[4, 3, 2, 2] | 2.75    |
| F4    | \[8, 9, 7, 5] | 7.25    |

---

## ✅ گام 3: نرمال‌سازی میانگین‌های هر کلاس

### نرمال‌سازی کلاس 1:

* F1:

  $$
  \left( \frac{2.5 - 1}{7} \times 2 \right) - 1 = \frac{3}{7} - 1 = -\frac{4}{7}
  $$

* F2:

  $$
  \left( \frac{3.5 - 2}{7} \times 2 \right) - 1 = \frac{3}{7} - 1 = -\frac{4}{7}
  $$

* F3:

  $$
  \left( \frac{6.5 - 2}{6} \times 2 \right) - 1 = \frac{9}{6} - 1 = 0.5
  $$

* F4:

  $$
  \left( \frac{6.75 - 5}{4} \times 2 \right) - 1 = \frac{3.5}{4} \times 2 - 1 = 1.75 - 1 = 0.75
  $$

### نرمال‌سازی کلاس 2:

* F1:

  $$
  \left( \frac{6.5 - 1}{7} \times 2 \right) - 1 = \frac{11}{7} - 1 = \frac{4}{7}
  $$

* F2:

  $$
  \left( \frac{7.5 - 2}{7} \times 2 \right) - 1 = \frac{11}{7} - 1 = \frac{4}{7}
  $$

* F3:

  $$
  \left( \frac{2.75 - 2}{6} \times 2 \right) - 1 = \frac{1.5}{6} \times 2 - 1 = 0.5 - 1 = -0.75
  $$

* F4:

  $$
  \left( \frac{7.25 - 5}{4} \times 2 \right) - 1 = 1.125 - 1 = 0.125
  $$

---

## ✅ گام 4: محاسبه فاصله بین داده تست و میانگین‌های نرمال‌شده

\| ویژگی | تست (نرمال) | \$\bar{f}\_j^+\$ (نرمال) | \$\bar{f}\_j^-\$ (نرمال) | \$| \text{test} - \bar{f}\_j^+ |\$ | \$| \text{test} - \bar{f}\_j^- |\$ |
\|--------|----------------|--------------------------|--------------------------|------------------------------|------------------------------|
\| F1     | \$-\frac{6}{7}\$ | \$-\frac{4}{7}\$           | \$\frac{4}{7}\$            | \$\frac{2}{7}\$                | \$\frac{10}{7}\$               |
\| F2     | 1              | \$-\frac{4}{7}\$           | \$\frac{4}{7}\$            | \$\frac{11}{7}\$               | \$\frac{3}{7}\$                |
\| F3     | -1             | 0.5                      | -0.75                    | \$1.5\$                        | \$0.25\$                       |
\| F4     | 0              | 0.75                     | 0.125                    | \$0.75\$                       | \$0.125\$                      |

---

## ✅ نتیجه‌گیری:

| ویژگی | فاصله از کلاس 1 | فاصله از کلاس 2 | نزدیک‌تر به |
| ----- | --------------- | --------------- | ----------- |
| F1    | 0.286           | 1.429           | کلاس 1      |
| F2    | 1.571           | 0.429           | کلاس 2      |
| F3    | 1.5             | 0.25            | کلاس 2      |
| F4    | 0.75            | 0.125           | کلاس 2      |

🔍 نتیجه نهایی: داده تست به کلاس 2 نزدیک‌تر است، به‌خصوص در ویژگی‌های **F2، F3 و F4**.

---

اگر بخوای مرحله آخر یعنی ترکیب فاصله‌ها با وزن ویژگی (مثلاً با ضرب در وزن‌های تحلیل واریانس) و طبقه‌بندی رو هم انجام بدم، بگو تا تکمیلش کنیم.

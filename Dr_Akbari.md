** (تحلیل واریانس بین کلاس‌ها)** 

---

## 🧮 گام ۱: داده‌ها و کلاس‌ها

جدول شامل 8 نمونه (X1 تا X8) و 4 ویژگی (F1 تا F4) است، و برچسب کلاس در ستون آخر آمده است.

```
       F1  F2  F3  F4   Label
X1     1   4   3   7    1
X2     2   2   2   8    1
X3     3   5   4   6    1
X4     2   2   2   5    1
X5     5   5   6   9    2
X6     7   7   6   8    2
X7     8   6   7   5    2
X8     4   9   8   8    2
```

### کلاس 1: X1 تا X4

### کلاس 2: X5 تا X8

---

## 🧮 گام ۲: محاسبه میانگین و واریانس هر ویژگی برای هر کلاس

### میانگین ویژگی‌ها:

#### کلاس 1:

* F1: (1+2+3+2)/4 = **2**
* F2: (4+2+5+2)/4 = **3.25**
* F3: (3+2+4+2)/4 = **2.75**
* F4: (7+8+6+5)/4 = **6.5**

#### کلاس 2:

* F1: (5+7+8+4)/4 = **6**
* F2: (5+7+6+9)/4 = **6.75**
* F3: (6+6+7+8)/4 = **6.75**
* F4: (9+8+5+8)/4 = **7.5**

---

### واریانس ویژگی‌ها:

#### فرمول واریانس:

$$
\text{Var} = \frac{\sum (x_i - \bar{x})^2}{n - 1}
$$

#### کلاس 1:

* **F1**: Var = (1−2)² + (2−2)² + (3−2)² + (2−2)² = 1 + 0 + 1 + 0 = 2 → 2 / 3 = **0.666**
* **F2**: Var = (4−3.25)² + (2−3.25)² + (5−3.25)² + (2−3.25)² = 0.5625 + 1.5625 + 3.0625 + 1.5625 = 6.75 → 6.75 / 3 = **2.25**
* **F3**: Var = (3−2.75)² + (2−2.75)² + (4−2.75)² + (2−2.75)² = 0.0625 + 0.5625 + 1.5625 + 0.5625 = 2.75 / 3 = **0.916**
* **F4**: Var = (7−6.5)² + (8−6.5)² + (6−6.5)² + (5−6.5)² = 0.25 + 2.25 + 0.25 + 2.25 = 5 → 5 / 3 = **1.666**

#### کلاس 2:

* **F1**: Var = (5−6)² + (7−6)² + (8−6)² + (4−6)² = 1 + 1 + 4 + 4 = 10 → 10 / 3 = **3.33**
* **F2**: Var = (5−6.75)² + (7−6.75)² + (6−6.75)² + (9−6.75)² = 3.06 + 0.06 + 0.56 + 5.06 = 8.75 / 3 = **2.91**
* **F3**: Var = (6−6.75)² + (6−6.75)² + (7−6.75)² + (8−6.75)² = 0.56 + 0.56 + 0.06 + 1.56 = 2.75 / 3 = **0.916**
* **F4**: Var = (9−7.5)² + (8−7.5)² + (5−7.5)² + (8−7.5)² = 2.25 + 0.25 + 6.25 + 0.25 = 9 → 9 / 3 = **3**

---

## 🧮 گام ۳: محاسبه قدرت تفکیک (Discriminative Power)

$$
\text{Power}_j = |\text{Var}_{\text{کلاس 2}}(f_j) - \text{Var}_{\text{کلاس 1}}(f_j)|
$$

| Feature | Var(class 2) | Var(class 1) | Power |
| ------- | ------------ | ------------ | ----- |
| F1      | 3.33         | 0.666        | 2.66  |
| F2      | 2.91         | 2.25         | 0.66  |
| F3      | 0.916        | 0.916        | 0     |
| F4      | 3.0          | 1.666        | 1.33  |

---

## ✅ نتیجه نهایی: وزن ویژگی‌ها (براساس قدرت تمایز)

* **F1: 2.66 → مهم‌ترین ویژگی**
* **F4: 1.33 → دوم**
* **F2: 0.66 → سوم**
* **F3: 0.00 → بی‌تأثیر در تفکیک کلاس‌ها**

---

اگر بخواهی نرمال‌شده‌شان را برای استفاده در مدل داشته باشیم:

$$
\text{Normalized weight}_j = \frac{\text{Power}_j}{\sum \text{Power}_j} = \frac{Power_j}{2.66 + 1.33 + 0.66}
$$

یعنی:

| Feature | Power | Normalized Weight |
| ------- | ----- | ----------------- |
| F1      | 2.66  | 0.56              |
| F4      | 1.33  | 0.28              |
| F2      | 0.66  | 0.14              |
| F3      | 0.00  | 0.00              |

---

اگر دوست داری با تست هم وزن‌دهی شود (یعنی فاصله تست با هر کلاس برای هر ویژگی نیز وارد شود)، می‌تونم مرحله بعد رو هم انجام بدم.

آیا می‌خواهی ترکیب فاصله تست با واریانس هم در نظر گرفته شود؟
